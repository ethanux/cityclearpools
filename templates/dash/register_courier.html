<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Driver Registration</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">

    <style>
        body {
            background-color: #ffffff;
        }
        .step {
            display: none;
        }
        .step.active {
            display: block;
        }
        .progress-bar {
            background-color: #0d6efd;
        }
        .btn-primary {
            background-color: #0d6efd;
            border: none;
        }
        .btn-primary:hover {
            background-color: #0b5ed7;
        }
    </style>
</head>
<body>

<div class="container my-5">
    <div class="card shadow-sm">
        <div class="card-body">
            <h2 class="text-center mb-4">Become a Driver</h2>

            <!-- Progress Bar -->
            <div class="progress mb-4" style="height: 20px;">
                <div class="progress-bar" role="progressbar" style="width: 20%;" id="progressBar">
                    Step 1 of 5
                </div>
            </div>

            {{message}}
            {{errors}}

            <!-- Form Starts -->
            <form id="driverForm" method="post">
                {% csrf_token %}
                <!-- Step 1: Basic Personal Information -->
                <div class="step active">
                    <div class="mb-3">
                        <label class="form-label">Full Name</label>
                        <input type="text" class="form-control" name="full_name" >
                    </div>
                    <div class="mb-3">
                        <label class="form-label">Date of Birth</label>
                        <input type="date" class="form-control" name="dob" >
                    </div>
                    <div class="mb-3">
                        <label class="form-label">Phone Number</label>
                        <input type="tel" class="form-control" name="phone" >
                    </div>
                    <div class="mb-3">
                        <label class="form-label">Email Address</label>
                        <input type="email" class="form-control" name="email" >
                    </div>
                    <div class="mb-3">
                        <label class="form-label">Physical Address</label>
                        <input type="text" class="form-control" name="address">
                    </div>
                    <div class="mb-3">
                        <label class="form-label">Profile Picture (Optional)</label>
                        <input type="file" class="form-control" name="profile_picture">
                    </div>
                </div>

                <!-- Step 2: Identity Verification -->
                <div class="step">
                    <div class="mb-3">
                        <label class="form-label">National ID Number</label>
                        <input type="text" class="form-control" name="id_number" >
                    </div>
                    <div class="mb-3">
                        <label class="form-label">Upload ID Copy</label>
                        <input type="file" class="form-control" name="id_upload" >
                    </div>
                </div>

                <!-- Step 3: Mode of Transport -->
                <div class="step">
                    <div class="mb-3">
                        <label class="form-label">How will you deliver?</label>
                        <select class="form-select" name="transport" >
                            <option value="">Select transport</option>
                            <option>Walk</option>
                            <option>Bicycle</option>
                            <option>Skateboard</option>
                            <option>Hoverboard</option>
                            <option>Roller Blades</option>
                            <option>Motorcycle</option>
                            <option>Car</option>
                            <option>Other</option>
                        </select>
                    </div>
                </div>

                <!-- Step 4: Availability -->
           <!--      <div class="step">
                    <div class="mb-3">
                        <label class="form-label">Available Days</label><br>
                        <div class="form-check form-check-inline">
                            <input class="form-check-input" type="checkbox" name="days[]" value="Monday">
                            <label class="form-check-label">Monday</label>
                        </div>
                        
                        <div class="form-check form-check-inline">
                            <input class="form-check-input" type="checkbox" name="days[]" value="Tuesday">
                            <label class="form-check-label">Tuesday</label>
                        </div>
                        <div class="form-check form-check-inline">
                            <input class="form-check-input" type="checkbox" name="days[]" value="Wednesday">
                            <label class="form-check-label">Wednesday</label>
                        </div>
                        <div class="form-check form-check-inline">
                            <input class="form-check-input" type="checkbox" name="days[]" value="Thursday">
                            <label class="form-check-label">Thursday</label>
                        </div>
                        <div class="form-check form-check-inline">
                            <input class="form-check-input" type="checkbox" name="days[]" value="Friday">
                            <label class="form-check-label">Friday</label>
                        </div>
                        <div class="form-check form-check-inline">
                            <input class="form-check-input" type="checkbox" name="days[]" value="Saturday">
                            <label class="form-check-label">Saturday</label>
                        </div>
                        <div class="form-check form-check-inline">
                            <input class="form-check-input" type="checkbox" name="days[]" value="Sunday">
                            <label class="form-check-label">Sunday</label>
                        </div>
                    </div>

                    <div class="mb-3">
                        <label class="form-label">Available Times</label><br>
                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" name="times[]" value="Morning">
                            <label class="form-check-label">Morning</label>
                        </div>
                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" name="times[]" value="Afternoon">
                            <label class="form-check-label">Afternoon</label>
                        </div>
                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" name="times[]" value="Evening">
                            <label class="form-check-label">Evening</label>
                        </div>
                    </div>
                </div> -->

                <!-- Step 5: Agreements -->
                <div class="step">
                    <div class="form-check mb-2">
                        <input class="form-check-input" type="checkbox" name="terms_and_conditions_check" >
                        <label class="form-check-label">
                            I agree to the <a href="#">Terms and Conditions</a>.
                        </label>
                    </div>
                    <div class="form-check mb-2">
                        <input class="form-check-input" type="checkbox" name="privacy_policy_check" >
                        <label class="form-check-label">
                            I agree to the <a href="#">Privacy Policy</a>.
                        </label>
                    </div>
                    <div class="form-check mb-4">
                        <input class="form-check-input" type="checkbox" name="code_of_conduct_check" >
                        <label class="form-check-label">
                            I agree to the <a href="#">Code of Conduct</a>.
                        </label>
                    </div>
                </div>

                <!-- Buttons -->
                <div class="d-flex justify-content-between">
                    <button type="button" class="btn btn-secondary" id="prevBtn" onclick="nextPrev(-1)">Back</button>
                    <button type="button" class="btn btn-primary" id="nextBtn" onclick="nextPrev(1)">Next</button>
                </div>

            </form>
        </div>
    </div>
</div>

<script>
    let currentStep = 0;
    const steps = document.querySelectorAll('.step');
    const progressBar = document.getElementById('progressBar');

    function showStep(n) {
        steps.forEach((step, index) => {
            step.classList.remove('active');
            if (index === n) step.classList.add('active');
        });

        // Update Progress Bar
        const percent = ((n + 1) / steps.length) * 100;
        progressBar.style.width = percent + '%';
        progressBar.textContent = `Step ${n + 1} of ${steps.length}`;

        // Update Button Text
        document.getElementById('nextBtn').innerText = (n === steps.length - 1) ? 'Submit' : 'Next';
    }

    function nextPrev(n) {
        if (n === 1 && !validateForm()) return;
        currentStep = currentStep + n;

        if (currentStep >= steps.length) {
            document.getElementById("driverForm").submit();
            return false;
        }

        showStep(currentStep);
    }

    function validateForm() {
        const inputs = steps[currentStep].querySelectorAll('input, select');
        for (let input of inputs) {
            if (!input.checkValidity()) {
                input.reportValidity();
                return false;
            }
        }
        return true;
    }

    showStep(currentStep);
</script>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>

</body>
</html>
